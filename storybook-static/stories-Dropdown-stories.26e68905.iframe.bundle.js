(self.webpackChunkreact_dropdown_filter_highlight=self.webpackChunkreact_dropdown_filter_highlight||[]).push([[544],{"./src/stories/Dropdown.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{DropdownComponent:()=>DropdownComponent,__namedExportsOrder:()=>__namedExportsOrder,default:()=>Dropdown_stories});var dist=__webpack_require__("./node_modules/@storybook/test/dist/index.mjs"),react=__webpack_require__("./node_modules/react/index.js"),react_dom=__webpack_require__("./node_modules/react-dom/index.js"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");const Highlight=_ref=>{let{value}=_ref;return(0,jsx_runtime.jsx)("span",{className:"highlight-text",children:value})},HighlightText=_ref2=>{let{text,value,caseIgnored=!0}=_ref2;if(!value)return(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:text});const splitMatch=new RegExp(value.replace(/\\/g,"\\\\"),caseIgnored?"ig":"g"),values=text.match(splitMatch)||[],matched=text.split(splitMatch);return(0,jsx_runtime.jsx)("div",{children:matched.map(((item,idx)=>(0,jsx_runtime.jsxs)(react.Fragment,{children:[item,idx<values.length&&(0,jsx_runtime.jsx)(Highlight,{value:values[idx]})]},idx)))})},Dropdown=_ref3=>{let{options,multiSelect=!1,customRenderOption,searchable=!0,usePortal=!1,zIndex=1e3,onSelect}=_ref3;const[isOpen,setIsOpen]=(0,react.useState)(!1),[searchTerm,setSearchTerm]=(0,react.useState)(""),[selectedOptions,setSelectedOptions]=(0,react.useState)([]),filteredOptions=options.filter((option=>option.label.toLowerCase().includes(searchTerm.toLowerCase()))),handleRemoveOption=option=>{const newSelection=selectedOptions.filter((o=>o!==option));setSelectedOptions(newSelection),onSelect(newSelection)},handleDocumentClick=event=>{const target=event.target,dropdownElement=document.querySelector(".dropdown-container");dropdownElement&&!dropdownElement.contains(target)&&setIsOpen(!1)};isOpen?document.addEventListener("mousedown",handleDocumentClick):document.removeEventListener("mousedown",handleDocumentClick);const renderOption=option=>(0,jsx_runtime.jsxs)("div",{onClick:()=>(option=>{if(multiSelect){const newSelection=selectedOptions.includes(option)?selectedOptions.filter((o=>o!==option)):[...selectedOptions,option];setSelectedOptions(newSelection),onSelect(newSelection)}else setSelectedOptions([option]),onSelect(option),setIsOpen(!1)})(option),className:"dropdown-option ".concat(selectedOptions.includes(option)?"selected":""),children:[option.icon&&(0,jsx_runtime.jsx)("div",{className:"option-icon",children:option.icon}),(0,jsx_runtime.jsx)("div",{className:"keyword-wrapper",children:(0,jsx_runtime.jsx)(HighlightText,{text:option.label,value:searchTerm})})]},option.value),dropdownContent=(0,jsx_runtime.jsxs)("div",{className:"dropdown-content",style:{zIndex},children:[searchable&&(0,jsx_runtime.jsxs)("div",{className:"search-bar",children:[(0,jsx_runtime.jsx)("span",{className:"search-icon"}),(0,jsx_runtime.jsx)("input",{type:"text",value:searchTerm,onChange:e=>setSearchTerm(e.target.value),placeholder:"",className:"search-input"}),searchTerm&&(0,jsx_runtime.jsx)("button",{onClick:()=>{setSearchTerm("")},className:"clear-button",children:(0,jsx_runtime.jsx)("span",{className:"clear-icon"})})]}),filteredOptions.length?filteredOptions.map((option=>renderOption(option))):(0,jsx_runtime.jsx)("div",{className:"no-options",children:"No options found"})]});return(0,jsx_runtime.jsxs)("div",{className:"dropdown-container",children:[(0,jsx_runtime.jsxs)("div",{onClick:()=>{setIsOpen(!isOpen)},className:"dropdown-trigger",children:[(0,jsx_runtime.jsx)("div",{className:"dropdown-selected-options",children:selectedOptions.length?selectedOptions.map((option=>(0,jsx_runtime.jsx)(SelectedOption,{option,onRemove:handleRemoveOption},option.value))):"Select"}),(0,jsx_runtime.jsx)("span",{className:"dropdown-icon"})]}),isOpen&&(usePortal?react_dom.createPortal(dropdownContent,document.body):dropdownContent)]})},SelectedOption=_ref4=>{let{option,onRemove}=_ref4;return(0,jsx_runtime.jsxs)("span",{className:"selected-option",children:[option.label,(0,jsx_runtime.jsx)("button",{onClick:()=>onRemove(option),className:"close-button",children:(0,jsx_runtime.jsx)("span",{className:"close-icon"})})]})},stories_Dropdown=Dropdown;Dropdown.__docgenInfo={description:"",methods:[],displayName:"Dropdown",props:{options:{required:!0,tsType:{name:"Array",elements:[{name:"DropdownOption"}],raw:"DropdownOption[]"},description:""},multiSelect:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},customRenderOption:{required:!1,tsType:{name:"signature",type:"function",raw:"(option: DropdownOption) => React.ReactElement",signature:{arguments:[{type:{name:"DropdownOption"},name:"option"}],return:{name:"ReactReactElement",raw:"React.ReactElement"}}},description:""},searchable:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"true",computed:!1}},usePortal:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},zIndex:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"1000",computed:!1}},onSelect:{required:!0,tsType:{name:"signature",type:"function",raw:"(selected: DropdownOption | DropdownOption[]) => void",signature:{arguments:[{type:{name:"union",raw:"DropdownOption | DropdownOption[]",elements:[{name:"DropdownOption"},{name:"Array",elements:[{name:"DropdownOption"}],raw:"DropdownOption[]"}]},name:"selected"}],return:{name:"void"}}},description:""}}};const Dropdown_stories={title:"Example/Dropdown",component:stories_Dropdown,tags:["autodocs"],parameters:{layout:"fullscreen"},args:{options:[{value:"1",label:"Option one"},{value:"2",label:"Long Option two"},{value:"3",label:"Long Long Option three"},{value:"4",label:"Long Long Long Option four"},{value:"5",label:"Long Long Long Long Option five"},{value:"6",label:"Long Long Long Long Long Option six"},{value:"7",label:"Long Long Long Long Long Long Option seven"},{value:"8",label:"Long Long Long Long Long Long Long Option eight"},{value:"9",label:"Long Long Long Long Long Long Long Long Option nine"},{value:"10",label:"Long Long Long Long Long Long Long Long Long Option ten"}],onSelect:(0,dist.fn)((selected=>console.log("Selected:",selected)))}},LabelledDropdown=args=>(0,jsx_runtime.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,jsx_runtime.jsx)("label",{htmlFor:"dropdown",style:{margin:"20px"},children:"Cherry Romandiaz Makyo Test"}),(0,jsx_runtime.jsx)(stories_Dropdown,{...args})]}),DropdownComponent={render:args=>(0,jsx_runtime.jsx)(LabelledDropdown,{...args}),args:{multiSelect:!0,searchable:!0,usePortal:!1,zIndex:1e3}},__namedExportsOrder=["DropdownComponent"];DropdownComponent.parameters={...DropdownComponent.parameters,docs:{...DropdownComponent.parameters?.docs,source:{originalSource:"{\n  render: args => <LabelledDropdown {...args} />,\n  args: {\n    multiSelect: true,\n    searchable: true,\n    usePortal: false,\n    zIndex: 1000\n  }\n}",...DropdownComponent.parameters?.docs?.source}}}},"./node_modules/@storybook/test/dist sync recursive":module=>{function webpackEmptyContext(req){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}webpackEmptyContext.keys=()=>[],webpackEmptyContext.resolve=webpackEmptyContext,webpackEmptyContext.id="./node_modules/@storybook/test/dist sync recursive",module.exports=webpackEmptyContext}}]);